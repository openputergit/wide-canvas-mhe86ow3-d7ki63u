<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Code Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://unpkg.com/marked@4.0.0/marked.min.js"></script>
    <style>
        .clay-morphism {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 
                12px 12px 20px rgba(104, 139, 161, 0.4),
                -12px -12px 20px rgba(255, 255, 255, 0.8),
                inset 4px 4px 10px rgba(104, 139, 161, 0.1),
                inset -4px -4px 10px rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(5px);
        }
        body {
            background: #e0e9f1;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <div class="clay-morphism p-6 mb-8">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-700 mb-4">Python Code Assistant</h1>
            <p class="text-gray-600 mb-4">Your AI companion for Python code generation, analysis, and improvement</p>
        </div>

        <div class="clay-morphism p-6 mb-8">
            <textarea id="userInput" class="w-full h-40 p-4 rounded-lg bg-white/50 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Enter your prompt or Python code here..."></textarea>
            
            <div class="flex flex-wrap gap-4 mt-4">
                <button onclick="handleRequest('generate')" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                    <i class="bi bi-code-slash mr-2"></i>Generate Code
                </button>
                <button onclick="handleRequest('correct')" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors">
                    <i class="bi bi-check2-circle mr-2"></i>Correct Code
                </button>
                <button onclick="handleRequest('analyze')" class="px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors">
                    <i class="bi bi-search mr-2"></i>Analyze Code
                </button>
            </div>
        </div>

        <div id="output" class="clay-morphism p-6">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Output</h2>
            <div id="resultArea" class="bg-white/50 rounded-lg p-4 min-h-[200px]">
                <p class="text-gray-500">Results will appear here...</p>
            </div>
        </div>
    </div>

    <script>
        // Simulated responses - In a real application, these would come from an actual LLM API
        const sampleResponses = {
            generate: {
                "Create a function to calculate fibonacci series": `def fibonacci(n):
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    
    sequence = [0, 1]
    while len(sequence) < n:
        sequence.append(sequence[-1] + sequence[-2])
    return sequence`,
                "default": "I'll help you generate Python code. Please provide more details about what you'd like to create."
            },
            correct: {
                "def fibonacci(n)\nreturn [0, 1]": `# Corrected code:
def fibonacci(n):
    if n <= 0:
        return []
    elif n == 1:
        return [0]
    
    sequence = [0, 1]
    while len(sequence) < n:
        sequence.append(sequence[-1] + sequence[-2])
    return sequence

# Corrections made:
# 1. Added missing colon after function definition
# 2. Added proper input validation
# 3. Implemented complete fibonacci logic`,
                "default": "I'll help you correct your Python code. Please paste your code to get started."
            },
            analyze: {
                "default": "I'll analyze your Python code for best practices and potential improvements. Please paste your code to analyze."
            }
        };

        function handleRequest(type) {
            const input = document.getElementById('userInput').value.trim();
            const resultArea = document.getElementById('resultArea');
            
            // Simulate API response
            let response = '';
            if (input) {
                response = sampleResponses[type][input] || sampleResponses[type]['default'];
            } else {
                response = sampleResponses[type]['default'];
            }

            // Format and display the response
            resultArea.innerHTML = `<pre class="language-python"><code>${response}</code></pre>`;
        }

        // Add keydown event listener for Ctrl+Enter
        document.getElementById('userInput').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                handleRequest('generate');
            }
        });
    </script>
<script>document.body.addEventListener('wheel', e => { if (!e.ctrlKey) return; e.preventDefault(); return }, { passive: false })</script>
	</body>
</html>